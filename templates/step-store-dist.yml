parameters:
  artifact: dist
  folder: $(Build.SourcesDirectory)/dist

steps:
- script: |
    ls -a $(Build.SourcesDirectory)/.build-venv/bin
  displayName: 'list build-venv bin'
- script: |
    ls -a ${{ parameters.folder }}
  displayName: 'list parameter.folder'
- script: |
    ls -a $(Build.ArtifactStagingDirectory)
  displayName: 'list artifact folder'
- task: CopyFiles@2
  displayName: 'Copy distribution'
  inputs:
    sourceFolder: ${{ parameters.folder }}
    targetFolder: $(Build.ArtifactStagingDirectory)
- task: PublishBuildArtifacts@1
  displayName: 'Publish distribution'
  inputs:
    pathtoPublish: $(Build.ArtifactStagingDirectory)
    artifactName: ${{ parameters.artifact }}
